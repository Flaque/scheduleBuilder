"use strict";angular.module("scheduleBuilderApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angucomplete-alt"]).config(["$routeProvider","$locationProvider","$sceDelegateProvider",function(e,t,s){e.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/build",{templateUrl:"views/build.html",controller:"BuildCtrl",controllerAs:"build"}).when("/about",{templateUrl:"views/about.html"}).otherwise({redirectTo:"/"}),s.resourceUrlWhitelist(["self","https://schedule-builder-backend.herokuapp.com/**"]),t.hashPrefix("")}]),angular.module("scheduleBuilderApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("scheduleBuilderApp").controller("BuildCtrl",["$scope","$http","toastr","httpService",function(e,t,s,o){e.allClasses=[],e.showBtns=!1,e.clearAll=function(){e.viableSchedules=[],e.formatRequest=[],e.userClasses=[],s("warning","Potential classes have been cleared")},o.getClasses().then(function(t){e.allClasses=t.data,console.log("classes are ready to go!")}),e.userClasses=[],e.addUserClasses=function(t){e.userClasses.push(t)},e.edit=!0,e.toggleEdit=function(){e.edit=!e.edit},e.removeClass=function(t){var s=e.userClasses.indexOf(t);s>-1&&e.userClasses.splice(s,1),console.log(e.userClasses)};var l=0,r=[];e.viableSchedules=[],e.formatRequest=[],e.generateSchedule=function(t){for(var n=0;n<t.length;n++)e.formatRequest.push(t[n].description);if(0===e.formatRequest.length)s("error","One or more classes required");else{s("success","Your schedules are being prepared!");var i={classes:e.formatRequest,block:[]};o.postClass(i).then(function(t){r=t.data,e.viableSize=r.length,e.showCount=l+1,e.vSched=r[l],e.showBtns=!0;for(var s=[],o=[],n=0;n<e.vSched.length;n++)s.push(e.vSched[n].Times.split(" ")),o.push(e.vSched[n].Days);console.log(o),console.log(s),a(s)})}};var n=[],a=function(e){for(var t=0;t<e.length;t++){var s=e[t].splice(0,1);if("-"!==s){s=s.pop().slice(0,5);var o=new Date,l=new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),s.slice(0,1));console.log(l.toISOString()),console.log(l.toUTCString()),n.push(l.toISOString())}}console.log(n)};e.nextPage=function(){l===e.viableSize-1?l=0:l+=1,e.showCount=l+1,e.vSched=r[l]},e.prevPage=function(){0===l?l=e.viableSize-1:l-=1,e.showCount=l+1,e.vSched=r[l]}}]),angular.module("scheduleBuilderApp").service("toastr",function(){var e=function(e,t){console.log("poop"),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-bottom-right",preventDuplicates:!0,showDuration:"300",hideDuration:"1000",timeOut:"3000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr[e](t)};return e});const baseUrl="https://schedule-builder-backend.herokuapp.com/api/";angular.module("scheduleBuilderApp").service("httpService",["$http",function(e){this.getClasses=function(){return e.get(baseUrl+"classes")},this.postClass=function(t){return e.post(baseUrl+"schedules",t)}}]);